// Generated by CoffeeScript 1.7.1
(function() {
  var BOARD_SIZE, click, ids, update_board;

  BOARD_SIZE = 5;

  ids = {};

  update_board = function() {
    return $.getJSON("/game/json/state/" + id, {}, function(json) {
      var board, can_open, o, x, y, _i, _len, _results;
      can_open = json.can_open;
      board = json.board;
      console.log("T");
      _results = [];
      for (_i = 0, _len = can_open.length; _i < _len; _i++) {
        o = can_open[_i];
        x = o.x;
        y = o.y;
        console.log("#board_" + x + "_" + y);
        if (board[y][x] !== "") {
          console.log(board[y][x]);
          $("#board_" + x + "_" + y).text(board[y][x]);
        } else {
          $("#board_" + x + "_" + y).html("<a target='_blank' href='http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=" + o.id + "&lang=jp'>" + o.id + "</a>");
        }
        _results.push(ids[y * BOARD_SIZE + x] = "http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=" + o.id + "&lang=jp");
      }
      return _results;
    });
  };

  $(document).ready(function() {
    update_board();
    return setInterval(function() {
      return update_board();
    }, 10000);
  });

  click = function(x, y) {
    alert("test");
    return document.location = ids[y * BOARD_SIZE + x];
  };

}).call(this);
